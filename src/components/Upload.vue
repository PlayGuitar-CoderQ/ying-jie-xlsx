<script setup lang="ts">
import { NUpload, NUploadDragger, NIcon, NText, NP, UploadFileInfo } from 'naive-ui';
import { ArchiveOutline as ArchiveIcon } from '@vicons/ionicons5';
import useTransformXlsx from '@hooks/useTransformXlsx';

interface UploadChangeOption {
  file: UploadFileInfo;
  fileList: Array<UploadFileInfo>;
  event?: Event;
}

const uploadTip = 'ç‚¹å‡»æˆ–è€…æ‹–åŠ¨æ–‡ä»¶åˆ°è¯¥åŒºåŸŸä¸Šä¼ ';
const uploadDangerTip = 'è¯·ä¸è¦ä¸Šä¼ æ•æ„Ÿæ•°æ®ï¼Œæ¯”å¦‚ä½ çš„é“¶è¡Œå¡å·å’Œå¯†ç ï¼Œä¿¡ç”¨å¡å·æœ‰æ•ˆæœŸå’Œå®‰å…¨ç ';
const joke = 'è¦ä¸ç„¶æˆ‘å°±å·äº†ä½ çš„ ðŸ«¡';

const [transformXlsx] = useTransformXlsx();

const handleUploadFinish = (option: UploadChangeOption) => {
  transformXlsx(option.file.file);
}
</script>

<template>
  <div class="wrapper">
    <NUpload multiple directory-dnd :show-file-list=false @change="handleUploadFinish">
      <NUploadDragger>

        <div style="margin-bottom: 12px">
          <NIcon size="48" :depth="3">
            <ArchiveIcon />
          </NIcon>
        </div>

        <NText style="font-size: 16px">
          {{ uploadTip }}
        </NText>

        <NP depth="3" style="margin: 8px 0 0 0">
          {{ uploadDangerTip }}
        </NP>

        <NP depth="3" style="margin: 8px 0 0 0">
          {{ joke }}
        </NP>

      </NUploadDragger>
    </NUpload>
  </div>
</template>

<style scoped>
.wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 97vh;
}
</style>
